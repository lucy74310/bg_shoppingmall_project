<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="product">

	<insert id="insert" parameterType="productvo">
		<![CDATA[
			insert into product  
				(product_name, product_price, product_short_explain, 
				product_detail, displayed, selling, use_option, use_stock, stock, soldout_mark, 
				reg_date) 
			values (#{product_name}, #{product_price}, #{product_short_explain}, #{product_detail}, 
			#{displayed}, #{selling}, #{use_option}, #{use_stock},
			 #{stock}, #{soldout_mark}, now()) 
		
		]]>
		<selectKey keyProperty="no" resultType="long" order="AFTER"> 
			<![CDATA[
			select last_insert_id()
			]]>
			
		</selectKey>
	</insert>
	
	<insert id="opinsert" parameterType="optionvo">
		<![CDATA[
			insert into op  (op_name, op_explain, op_order, product_no)
			values (#{op_name}, #{op_explain}, #{op_order}, #{product_no});
		
		]]>
		<selectKey keyProperty="no" resultType="long" order="AFTER"> 
			<![CDATA[
			select last_insert_id()
			]]>
			
		</selectKey>
	</insert>
	<insert id="opdinsert" parameterType="optiondetailvo">
		<![CDATA[
			insert into opd  (opd_name, opd_order, plus_price, option_no)
			values (#{opd_name}, #{opd_order}, #{plus_price}, #{option_no})
		
		]]>
		<selectKey keyProperty="no" resultType="long" order="AFTER"> 
			<![CDATA[
			select last_insert_id()
			]]>
			
		</selectKey>
	</insert>
	
</mapper>
